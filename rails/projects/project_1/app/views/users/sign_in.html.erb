<h1>Sign In</h1>

<p id="email_error" style="color: red;"></p>
<p id="pass_error" style="color: red;"></p>

<%= form_with html: {id: 'sign_in'}  do |form|%>
    <%= form.label :email, "Email" %> <br>
    <%= form.email_field :email %> <br><br>

    <%= form.label :password, "Password" %> <br>
    <%= form.password_field :password %> 
    <button type="button" id="pass_button" onclick="show_hide_pass();">Show</button> <br><br>

    <button type="button" id="submit" onclick="validations();">Create Account</button>
<%end%>



<script>
    function show_hide_pass(){
        var pass_field = document.getElementById('password');

        if (pass_field.type === "password"){
                 pass_field.type = "text";
                 document.getElementById('pass_button').innerHTML = "Hide";
            }
        
        else {
            pass_field.type = "password";
            document.getElementById('pass_button').innerHTML = "Show";
        }
    }

    function validations(){
        var email_field = document.forms['sign_in']['email'].value;
        var pass_field = document.forms['sign_in']['password'].value;
        
        
        if (email_field == ""){
            document.getElementById('email_error').innerHTML = "Please Enter an Email.";
        }
        else if (!email_field.match(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/)){
            document.getElementById('email_error').innerHTML = "Email is Invalid.";
        }
        else{
            document.getElementById('email_error').innerHTML = "";

        }
    

        if (pass_field == ""){
            document.getElementById('pass_error').innerHTML = "Please provide a password.";
        }
        else{
            document.getElementById('pass_error').innerHTML = "";

        }
    }
</script>


